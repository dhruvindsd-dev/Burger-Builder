{"version":3,"sources":["containers/Menu/Menu.js"],"names":["Menu","state","isLoading","menu","onCreateBurger","type","props","resetBurger","Object","keys","map","item","i","addIngredientHandler","history","push","this","setState","Axios","get","then","response","cacheMenu","data","className","style","listStyle","listStylePosition","ingr","onClick","bind","Component","connect","cache","dispatch","actionTypes","payload","menuData"],"mappings":"8MAMMA,E,4MACJC,MAAQ,CACNC,WAAW,EACXC,KAAM,M,EAwBRC,eAAiB,SAACC,GAChB,EAAKC,MAAMC,cACXC,OAAOC,KAAK,EAAKR,MAAME,KAAKE,IAAOK,KAAI,SAACC,GACtC,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAKX,MAAME,KAAKE,GAAMM,GAAOC,IAC/C,EAAKN,MAAMO,qBAAqBF,MAGpC,EAAKL,MAAMQ,QAAQC,KAAK,M,kEA7BL,IAAD,OACbC,KAAKV,MAAMH,KAeda,KAAKC,SAAS,CACZd,KAAMa,KAAKV,MAAMH,KACjBD,WAAW,IAhBbgB,IAAMC,IACJ,6DACAC,MAAK,SAACC,GAKN,EAAKf,MAAMgB,UAAUD,EAASE,MAC9B,EAAKN,SAAS,CACZd,KAAMkB,EAASE,KACfrB,WAAW,S,+BAmBT,IAAD,OACHC,EAAO,cAAC,IAAD,IAwBX,OAvBKa,KAAKf,MAAMC,YACdC,EAAOK,OAAOC,KAAKO,KAAKf,MAAME,MAAMO,KAAI,SAACC,EAAMC,GAAP,OACtC,qBAAKY,UAAU,cAAf,SACE,sBAAKA,UAAU,2CAAf,UACE,mBAAGA,UAAU,0CAAb,SAAwDb,IACxD,oBAAIc,MAAO,CAAEC,UAAW,OAAQC,kBAAmB,UAAnD,SACGnB,OAAOC,KAAK,EAAKR,MAAME,KAAKQ,IAAOD,KAAI,SAACkB,EAAMhB,GAAP,OACtC,oCAEGgB,EAFH,MAEY,EAAK3B,MAAME,KAAKQ,GAAMiB,KAFzBhB,QAMb,wBACEiB,QAAS,EAAKzB,eAAe0B,KAAK,EAAMnB,GACxCa,UAAU,kCAFZ,uCAX8BZ,OAsBpC,sBAAKY,UAAU,UAAf,UACE,mBAAGA,UAAU,0BAAb,sBACA,uBACA,uBACA,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,uBAAf,SAAuCrB,a,GAnE9B4B,aAmGJC,uBA1BS,SAAC/B,GACvB,MAAO,CACLE,KAAMF,EAAMgC,MAAM9B,SAGK,SAAC+B,GAC1B,MAAO,CACLrB,qBAAsB,SAACR,GACrB6B,EAAS,CACP7B,KAAM8B,IACNC,QAAS,CAAE/B,KAAMA,MAGrBE,YAAa,WACX2B,EAAS,CACP7B,KAAM8B,OAGVb,UAAW,SAACe,GACVH,EAAS,CACP7B,KAAM8B,IACNC,QAAS,CAAEjC,KAAMkC,SAKVL,CAA6ChC","file":"static/js/5.47c4906e.chunk.js","sourcesContent":["import Axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"../../components/UI/Loader/Loader\";\r\nimport * as actionTypes from \"../../store/actions/actions\";\r\n\r\nclass Menu extends Component {\r\n  state = {\r\n    isLoading: true,\r\n    menu: null,\r\n  };\r\n  componentDidMount() {\r\n    if (!this.props.menu) {\r\n      Axios.get(\r\n        \"https://recipe-app-ab93d.firebaseio.com/details/Menu.json\"\r\n      ).then((response) => {\r\n        // this.setState({\r\n        //   menu: response.data,\r\n        //   isLoading: false,\r\n        // });\r\n        this.props.cacheMenu(response.data);\r\n        this.setState({\r\n          menu: response.data,\r\n          isLoading: false,\r\n        });\r\n      });\r\n    } else {\r\n      this.setState({\r\n        menu: this.props.menu,\r\n        isLoading: false,\r\n      });\r\n    }\r\n  }\r\n  onCreateBurger = (type) => {\r\n    this.props.resetBurger();\r\n    Object.keys(this.state.menu[type]).map((item) => {\r\n      for (let i = 0; i < this.state.menu[type][item]; i++) {\r\n        this.props.addIngredientHandler(item);\r\n      }\r\n    });\r\n    this.props.history.push(\"/\");\r\n  };\r\n  render() {\r\n    let menu = <Loader />;\r\n    if (!this.state.isLoading) {\r\n      menu = Object.keys(this.state.menu).map((item, i) => (\r\n        <div className=\"column is-4\" key={i}>\r\n          <div className=\"notification is-link is-light blue-hover\">\r\n            <p className=\"is-size-4 has-text-weight-semibold mb-2\">{item}</p>\r\n            <ul style={{ listStyle: \"disc\", listStylePosition: \"inside\" }}>\r\n              {Object.keys(this.state.menu[item]).map((ingr, i) => (\r\n                <li key={i}>\r\n                  ''\r\n                  {ingr} : {this.state.menu[item][ingr]}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <button\r\n              onClick={this.onCreateBurger.bind(this, item)}\r\n              className=\"button is-outlined is-link mt-4\"\r\n            >\r\n              Create Burger Now !!!\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ));\r\n    }\r\n    return (\r\n      <div className=\"section\">\r\n        <p className=\"title has-text-centered\">Our Menu</p>\r\n        <br />\r\n        <br />\r\n        <div className=\"container\">\r\n          <div className=\"columns is-multiline\">{menu}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    menu: state.cache.menu,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addIngredientHandler: (type) => {\r\n      dispatch({\r\n        type: actionTypes.ADD_INGREDIENT,\r\n        payload: { type: type },\r\n      });\r\n    },\r\n    resetBurger: () => {\r\n      dispatch({\r\n        type: actionTypes.RESET_BURGER,\r\n      });\r\n    },\r\n    cacheMenu: (menuData) => {\r\n      dispatch({\r\n        type: actionTypes.CACHE_MENU,\r\n        payload: { menu: menuData },\r\n      });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n"],"sourceRoot":""}