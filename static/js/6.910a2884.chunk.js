(this["webpackJsonpma-burger"]=this["webpackJsonpma-burger"]||[]).push([[6],{80:function(e,t,s){"use strict";s.r(t);var r=s(17),a=s(18),n=s(20),i=s(19),c=s(0),d=s(21),o=s.n(d),u=s(1),l=s(12),h=s(13),j=s(4),b=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!0,previousOrder:null},e.fetchOrders=function(){return o.a.get("https://recipe-app-ab93d.firebaseio.com/orders/".concat(e.props.userId,".json?auth=").concat(e.props.authToken))},e.handleCacheAndStare=function(t){if(t){var s=Object.keys(t).map((function(e){return t[e]}));e.setState({previousOrder:s,isLoading:!1}),e.props.cacheOrders(s)}else e.setState({isLoading:!1})},e}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.orders?(this.setState({previousOrder:this.props.orders,isLoading:!1}),this.fetchOrders().then((function(t){e.handleCacheAndStare(t.data)}))):this.fetchOrders().then((function(t){e.handleCacheAndStare(t.data)}))}},{key:"render",value:function(){var e;return e=this.state.isLoading?Object(c.jsx)(h.a,{}):this.state.previousOrder?this.state.previousOrder.map((function(e,t){return Object(c.jsx)("div",{className:"column is-3",children:Object(c.jsxs)("div",{className:"notification blue-hover",children:[Object(c.jsxs)("p",{className:"is-size-4 has-text-weight-bold",children:["Total Price ",e.totalPrice.toFixed(2)]}),Object(c.jsxs)("div",{className:"is-size-4",children:["Ingredients :",Object(c.jsx)("div",{className:"buttons mt-2",children:Object.keys(e.burgerIngredients).map((function(t,s){return e.burgerIngredients[t]?Object(c.jsxs)("button",{className:"button is-outlined is-dark is-small",children:[t," : ",e.burgerIngredients[t]]},s):null}))})]}),Object(c.jsx)("div",{className:"mt-3",children:Object.keys(e.deliveryDetials).map((function(t,s){return Object(c.jsxs)("p",{children:[t," : ",e.deliveryDetials[t]]},s)}))})]})},t)})):Object(c.jsxs)("p",{className:"section has-text-centered has-text-danger title",children:[Object(c.jsx)("span",{children:"You have not ordered any delicious butger till date"}),Object(c.jsx)("span",{className:"icon m-3",children:Object(c.jsx)("i",{className:"fas fa-sad-tear"})})]}),Object(c.jsxs)("div",{className:"section",children:[Object(c.jsx)("p",{className:"title has-text-dark",children:"Your Orders "}),Object(c.jsx)("div",{className:"columns is-multiline",children:e})]})}}]),s}(u.Component);t.default=Object(l.b)((function(e){return{authToken:e.auth.authToken,orders:e.cache.orders,userId:e.auth.userId}}),(function(e){return{cacheOrders:function(t){e({type:j.e,payload:{orders:t}})}}}))(b)}}]);
//# sourceMappingURL=6.910a2884.chunk.js.map